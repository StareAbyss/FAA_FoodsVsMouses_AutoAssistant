# 打包

## 打包

记得使用资源文件打包.py 路径请自行调整 默认是在项目上一级新建目录以打包

    pyinstaller -i "F:\My Project\Python\FoodsVsMousesAutoAssistant\resource\logo\圆角-FetTuo-48x.ico" -w -D -n "FAA" -y --distpath="F:\My Project\Python\_ExeWorkSpace\dist" --workpath="F:\My Project\Python\_ExeWorkSpace\build" "F:\My Project\Python\FoodsVsMousesAutoAssistant\function\faa_main.py"

## 打包 - 调试版
-w -> -c

    pyinstaller -i "F:\My Project\Python\FoodsVsMousesAutoAssistant\resource\logo\圆角-FetTuo-48x.ico" -c -D -n "FAA" -y --distpath="F:\My Project\Python\_ExeWorkSpace\dist" --workpath="F:\My Project\Python\_ExeWorkSpace\build" "F:\My Project\Python\FoodsVsMousesAutoAssistant\function\faa_main.py"

# 环境迁移

## 下载python安装程序 v3.12.5
    https://www.python.org/ftp/python/

## 生成配置文件
    cd "F:\My Project\Python\FoodsVsMousesAutoAssistant"
    pip freeze > requirements.txt

## 导入配置文件
    pip install -r requirements.txt

# git抽风无法提交到github
## 在git仓库打开终端 并输入下文

    git config --global --unset http.proxy
    git config --global --unset https.proxy

    git config --global http.proxy http://127.0.0.1:10809
    git config --global https.proxy http://127.0.0.1:10809

-----------------------
# opencv gpu加速环境部署指北
## 显卡驱动环境配置
更新显卡驱动，确保版本号大于555.85<br />如何更新驱动此处不再赘述

## 安装opencv-python gpu版
### 卸载原有opencv环境
    pip uninstall opencv-python
### 修改dll链接路径
打开project/python_loader/cv2路径<br />
打开config.py文件，编辑库路径，默认绑定project/bin,~~如果不想删项目opencv就用不了的话最好把库文件换一个地方并修改引用地址~~
### 解压链接库压缩包
打开project/bin解压所有7z 文件~~顺带一提我才知道github最大单文件只能传50M~~
### 安装opencv-python gpu版
    pip install ./python_loader
### 验证是否安装成功
    cd test
    python test_cuda.py
若显示
> 检测到支持CUDA的设备数量: 1
>
说明opencv gpu版已经正确安装
### 卸载opencv-python gpu版
    pip uninstall opencv-python
### 报错处理
>ImportError: DLL load failed while importing cv2: 找不到指定的模块。
>
~~如遇缺这库少那库之难请联系开发者听召前来嘲笑~~
使用[ProcessMonitor](https://learn.microsoft.com/zh-cn/sysinternals/downloads/procmon)自行查看缺少什么dll，自行补上即可

